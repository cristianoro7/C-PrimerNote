# const限定符

*　const限定符表示不可变的

### 默认状态下, const对象仅在本文件内有效

* 默认的情况下, ``const``对象被设定为仅在文件内有效, 当多个文件中出现同名的``const``变量时, 其实等同于在不同的文件中分别生成独立的变量.
* 如果想要``const``修饰的对象能被多个文件共享的话, 解决的办法是: 不管是``const``变量的定义和声明, 都加上``extern``

### const引用

* const引用表示不能修改它绑定的对象的值

### const引用的对象是非常量对象(指针也是同种道理)

```c++
int i = 0;
int &q = i;
const int &w = i; //允许const引用的对象为非常量, 但是不允许经过w改变i的值
```

### 顶层const和底层const

- 顶层const可以表示任意的对象常量, 这点对任意的类型都成立.
- 底层const与指针和引用等符合类型的基本类型部分有关, 表示指针所指向的对象是一个常量.

```c++
int i = 0;
int *const p1 = &i; //顶层const, 表示p1指针的值是不可以变的
const int ci = 42; //顶层const, 表示ci是不可以变的
const int *p2 = &ci; //底层const, 允许改变p2的值
const int *const p3 = p2; //靠右的是顶层const, 靠左的是底层const
```

### 常量表达式和constexp

* 常量表达式是指编译过程就能得到结果的表达式, 例如: 字面量
* constexp变量: 如果一个变量被声明为constexp类型的话, 那么这个变量一定是一个常量, 而且必须用常量表达式初始化.
* 字面值类型:  数据类型, 算术类型, 引用和指针都属于字面值类型, 自定义的类型不属于字面值类型. constexp只能修饰字面值类型, 不能修饰自定义的类型. constexp指针的初始值必须是nullptr或者0, 或者是某个固定地址中的对象.